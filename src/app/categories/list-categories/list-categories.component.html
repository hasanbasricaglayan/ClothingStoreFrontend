<div class="row align-items-center m-3">
	<div class="col-auto">
		<h2>Catégories</h2>
	</div>
	<div *ngIf="currentCategory == undefined" class="col-auto">
		<form class="d-flex justify-content-center align-items-center gap-3" #addForm="ngForm" (ngSubmit)="addCategory(addForm)">
			<input type="text" class="form-control" id="addCategoryName" placeholder="Nom"
				   ngModel
				   name="addCategoryName"
				   #addCategoryName="ngModel">
			<button type="submit" class="btn btn-success">Ajouter</button>
		</form>
	</div>
</div>
<div *ngIf="currentCategory !== undefined" class="row align-items-center m-3">
	<div class="col-auto">
		<form class="d-flex justify-content-center align-items-center gap-3" #editForm="ngForm" (ngSubmit)="editCategory(editForm)">
			<input type="text" class="form-control" id="editCategoryName"
				   [ngModel]="currentCategory.name"
				   name="editCategoryName"
				   #editCategoryName="ngModel">
			<button type="submit" class="btn btn-primary">Modifier</button>
		</form>
	</div>
</div>
<table class="table table-striped table-bordered text-center">
	<thead class="align-middle">
		<tr>
			<th>Référence</th>
			<th>Nom</th>
			<th>Modifier</th>
			<th>Nombre de produits</th>
			<th>Détails</th>
			<th>Supprimer</th>
		</tr>
	</thead>
	<tbody class="align-middle">
		<tr *ngFor="let category of categories">
			<td>{{category.categoryId}}</td>
			<td>{{category.name}}</td>
			<td><button class="btn btn-primary" (click)="showEditCategory(category)">Modifier</button></td>
			<td>{{category.products?.length}}</td>
			<td><button class="btn btn-info" [routerLink]="['/categories', category.categoryId, 'products']">Détails</button></td>
			<td><button class="btn btn-danger" (click)="deleteCategory(category.categoryId!)">Supprimer</button></td>
		</tr>
	</tbody>
</table>
